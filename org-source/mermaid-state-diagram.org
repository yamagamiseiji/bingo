#+setupfile: /home/yamagami/org/macros-org/org/org-macros.setup
#           Time-stamp: <2024-08-27 15:50:32 yamagami>
#+title: Áä∂ÊÖãÈÅ∑ÁßªÂõ≥„ÇíMermaid„ÅßÊèè„ÅÑ„Å¶„Åø„Åæ„Åó„Åü
#+date: [2024-08-27]
#+language: ja
#+link: file file+sys:../static/
#+hugo_base_dir: ~/peace-blog/bingo/
#+hugo_section: posts
#+hugo_tags: mermaid joplin ledger-cli state_diagram
#+hugo_categories: comp
#+options: toc:nil
#+draft: false

* „ÅØ„Åò„ÇÅ„Å´
‰∏ñ„ÅÆ‰∏≠„Å´
**Mermaid** „Å®„ÅÑ„ÅÜ‰æøÂà©„Å™„ÇÇ„ÅÆ„Åå„ÅÇ„Çã„ÅÆ„ÇíÁü•„Å£„Å¶ÊÑüÊøÄ„Åó„ÄÅ
2024/06/25„Å´
**X** ÔºàÊóßtwitterÔºâ„Å´[[https://x.com/seijiyamagami/status/1805566822248280503][ÊäïÁ®ø„Åó„Åæ„Åó„Åü]]„ÄÇ

#+attr_html: :width 80%
#+caption: XÔºàÊóßtwitterÔºâ„Å∏„ÅÆÊäïÁ®øË®ò‰∫ã
#+name: ss_twitter
[[file:twitter-screenshot.png]]

„Éó„É≠„Ç∞„É©„É†„ÅÆ„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà„ÅØ„ÄÅ **chatGPT** „Å´„Ç≥„Éº„Éâ„ÇíÊ∏°„Åó„Å¶Mermaid Code„Å´„Åó„Å¶„ÇÇ„Çâ„ÅÑ„ÄÅ„Åù„ÅÆÂæå„ÄÅÂøÖË¶Å„Åå„ÅÇ„Çå„Å∞ÂæÆ‰øÆÊ≠£„Å®„ÅÑ„ÅÜÊµÅ„Çå„ÅßÊèè„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇMermaid„Å®chatGPT„ÅÆ„Åä„Åã„Åí„Åß„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà‰ΩúÊàêÊôÇÈñì„ÅØ„Åª„Çì„Å®„ÅÜ„Å´Ê•µÂ∞èÂåñ„Åó„Åæ„Åó„Åü„ÄÇ

** Áä∂ÊÖãÈÅ∑ÁßªÂõ≥ÔºàState DiagramÔºâ
‰∏ÄÊñπ„ÄÅË§áÊï∞„ÅÆ„Éó„É≠„Ç∞„É©„É†„ÇÑ„Çπ„ÇØ„É™„Éó„Éà„Åã„ÇâÊßãÊàê„Åï„Çå„Å¶„ÅÑ„ÇãÂá¶ÁêÜÁ≥ª„ÅÆÁä∂ÊÖãÈÅ∑ÁßªÂõ≥„ÅØ„ÄÅ„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà„ÅÆ„Çà„ÅÜ„Å™AIÂà©Áî®„ÅÆ„ÇÑ„ÇäÊñπ„ÅåÊÄù„ÅÑ„Å§„Åã„Åö„ÄÅ„Åó„Å∞„Çâ„ÅèÊâã„Çí„Å§„Åë„Åö„Å´„ÅÑ„Åæ„Åó„Åü„ÄÇ

„Åì„ÅÆÂ∫¶„ÄÅËá™ÂàÜËá™Ë∫´„ÅÆÈ†≠„ÇíÊï¥ÁêÜ„Åô„Çã„Åü„ÇÅ„Å´Ôºà„Å®„ÅÑ„ÅÜ„ÅãÂøÖË¶Å„Å´Ëø´„Çâ„Çå„Å¶ :sweat: ) Mermeid code Áõ¥Êõ∏„Åç„ÅßÁä∂ÊÖãÈÅ∑ÁßªÂõ≥„ÇíÊõ∏„ÅÑ„Å¶„Åø„Åæ„Åó„Åü„ÄÇ„Åù„ÅÆÁ¨¨ÔºëË©¶‰ΩúÂìÅ„ÅåÂõ≥[[sample-out]]„Åß„Åô„ÄÇ

‰øùÊúâ„Åô„Çã **ÊäïË≥á‰ø°Ë®ó„Å®Ê†™Âºè„ÅÆÂΩìÊó•„ÅÆ‰æ°È°ç** „ÇíÂèñÂæó„Åó„Å¶„ÄÅ **Ledger-cli** „ÅÆ =.prices.db= ÂΩ¢ÂºèDB„Éï„Ç°„Ç§„É´„Å®„Åó„Å¶‰øùÂ≠ò„Åô„ÇãÂá¶ÁêÜÁ≥ª„ÅÆÈÅ∑ÁßªÂõ≥„Åß„Åô„ÄÇÂõ≥‰∏≠„ÅÆÂèñÊâ±„ÅÑ‰ºöÁ§æÂêç„ÄÅÈäòÊüÑÂêç„ÄÅÈäòÊüÑ„ÅÆÊï∞„Å™„Å©„ÅØÊû∂Á©∫„ÅÆ„ÇÇ„ÅÆ„Åß„Åô„ÄÇ

#+attr_html: :width 100%
#+caption: ÊäïË≥á‰ø°Ë®ó„ÉªÊ†™Âºè„ÅÆÊôÇ‰æ°„Éá„Éº„Çø„Éô„Éº„ÇπÁîüÊàêÂá¶ÁêÜÁ≥ª„Å´„Å§„ÅÑ„Å¶„ÅÆ„Çµ„É≥„Éó„É´„ÉÄ„Ç§„Ç¢„Ç∞„É©„É†
#+name: sample-out
[[file:mermaid-1724726378291.svg]]

„ÉÄ„Ç§„É§„Ç∞„É©„É†„Å´„Åô„Çã„Å®„Å®„Å¶„ÇÇÁ∞°Âçò„Å™ÊßãÈÄ†„Åß„Åô„Åå„ÄÅDB„Éï„Ç°„Ç§„É´Âêç„Å™„Å©„ÇíÊ≠£Á¢∫„Å´Ë®òÊÜ∂„Åô„Çã„Åì„Å®„ÅåÈõ£„Åó„Åè„Å™„Å£„Å¶„Åæ„Åó„ÅüÔºàÊ±óÔºâ„ÅÆ„Åß„ÄÅ„Åì„ÅÆ„Çà„ÅÜ„Å™Âõ≥„Åå **Joplin** ÂÜÖ„ÅßÁ∞°Âçò„Å´Ë¶ã„Åà„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÅÆ„ÅØ „Åª„Çì„Å®„ÅÜ„Å´„ÅÇ„Çä„Åå„Åü„ÅÑ„Åß„Åô„ÄÇ

** Ë£úË∂≥Ë™¨Êòé
1. ÊúÄÁµÇÁöÑ„Å™ =ALL-PRICES.db= „ÅÆ„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÅØÊ¨°„ÅÆ„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„ÅôÔºàÂá∫ÂÖ∏ÔºöLedger-cliÂÖ¨Âºè„Éû„Éã„É•„Ç¢„É´Ôºâ„ÄÇ
   #+begin_src
P 2004/06/21 02:18:01 FEQTX $22.49
P 2004/06/21 02:18:01 BORL $6.20
P 2004/06/21 02:18:02 AAPL $32.91
P 2004/06/21 02:18:02 AU $400.00
   #+end_src
   Á¨¨3Âàó„ÅÆ **ÊôÇÂàª** „ÅØ„ÄÅËá™ÂàÜ„ÅÆ„Éá„Éº„Çø„Åß„ÅØ =00:00:00= „ÄÅÁ¨¨4Âàó„ÅÆ **ÈäòÊüÑÂêç** „ÅØ„ÄÅ„Åß„Åç„Çã„Å†„ÅëÊù±Ë®º„Å™„Å©„ÅÆÁü≠Á∏ÆÂêç„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇÊúÄÂæå„ÅÆ **ÊôÇ‰æ°** „ÅÆÂàó„ÅØÊó•Êú¨ÂÜÜ„Åß„ÅôÔºà =JPY 2,350= „Å™„Å©Ôºâ„ÄÇ

2. Âõ≥‰∏≠„ÅÆ„Éé„Éº„ÉàÈÉ®Ôºà =mufg-pricedb_getter.sh= „Å™„Å©Ôºâ„ÅØÊäïË≥á‰ø°Ë®ó„ÅÆ‰æ°È°ç„ÇÑÊ†™Âºè„ÅÆÊôÇ‰æ°„Çí **Ëá™ÂãïÂèñÂæó** „Åô„Çã„Çπ„ÇØ„É™„Éó„ÉàÂêç„Åß„Åô„ÄÇ

   „Åì„ÅÆ =.prices.db= ÂΩ¢Âºè„ÅÆDB„Åå„ÅÇ„Çå„Å∞„ÄÅ‰øùÊúâ„Åô„ÇãÊäï‰ø°„ÉªÊ†™Âºè„ÅÆÊôÇ‰æ°Ë©ï‰æ°È°ç„ÇíÊ¨°„ÅÆ„Çà„ÅÜ„Å™„ÇØ„Ç®„É™„ÅßË°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ
   #+begin_src sh
$ ledger bal trust --price-db ALL-PRICES.db --market -X JPY
   #+end_src

3. Mermaid„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅ„Åæ„Å†ËÖë„Å´ËêΩ„Å°„Å™„ÅÑ„Å®„Åì„Çç„ÅåÂ∞ë„Å™„Åã„Çâ„Åö„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ„Åù„Çå„Åß„ÇÇ„ÄÅ„Åì„Çå„Åæ„Åß‰Ωø„ÅÑ„Åì„Å™„Åõ„Å™„Åã„Å£„Åü„ÅÑ„Çç„ÅÑ„Çç„Å™Drawing„ÇΩ„Éï„Éà„Çà„Çä„ÇÇ„Åö„Å£„Å®Ê•Ω„Å´„ÉÄ„Ç§„Ç¢„Ç∞„É©„É†„ÅåÊèè„Åë„Åæ„Åô„ÄÇ„ÅÇ„Çä„Åå„Åü„ÅÑ„Åì„Å®„Åß„Åô üôè
   
** Mermaid Code
   ÂèÇËÄÉ„Åæ„Åß„Å´„Éª„Éª„Éª
#+begin_src
stateDiagram
    %%direction LR
	A: TRUST
	S: STOCK
    [*] --> A
	[*] --> S
    A --> MUFG
    A --> SMBC
	S --> ÈáéÊùëË®ºÂà∏

	C1: MUFG-prices.db
    MUFG --> C1: mufg-pricedb_getter.sh
    state MUFG {
      direction LR
      eNauto: Êäï‰ø°M1
	  eNbond: Êäï‰ø°M2
    }

    C2: SMBC-prices.db
    SMBC --> C2: SMBC-pricedb_getter.sh
	state SMBC{
	   direction LR
	   Ds: Êäï‰ø°S1
	   Dt: Êäï‰ø°S2
	 }  

    C3: Nomura-stk-prices.db
	ÈáéÊùëË®ºÂà∏ --> C3: nomura-pricedb_getter.sh
	state ÈáéÊùëË®ºÂà∏{
	   direction LR
	   K: Ê†™ÈäòÊüÑN1 
	   M: Ê†™ÈäòÊüÑN2
	 }

    T1: TRUST-prices.db
	S1: STOCK-prices.db
	C1 --> T1
	C2 --> T1
    C3 --> S1

	D: ALL-PRICES.db
	T1 --> D
	S1 --> D
	
	D --> [*]
#+end_src

Ôºà‰ª•‰∏ä„Åß„ÅôÔºâ



# Local Variables:
# eval: (org-hugo-auto-export-mode)
# End:
